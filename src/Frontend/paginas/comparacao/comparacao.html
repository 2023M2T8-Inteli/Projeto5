<!DOCTYPE html>
<html lang="pt-br">

<head>
  <script src="./mapa.js"></script>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <link href="
    https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.min.css
    " rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="public/fonts/poppins.css">
  <link rel="stylesheet" type="text/css" href="public/styles/telacomparacao.css">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <title>Tela de comparação entre viagens</title>
</head>

<body>
  <header>
    <div class="topo">
      <div class="logo">
        <img src="public/assets/logo_padrao.png" alt="Lumi (logo)">
      </div>
      <nav class="nav">
        <ul>
          <li><a href="./home">Home</a></li>
          <li><a href="./home?scroll=true">Contato</a></li>
          <li><a href="./analise">Análises</a></li>
          <li><a href="./relatorios">Relatórios</a></li>
        </ul>
      </nav>
      <div class="icone-logout">
        <a href="./">
          <img src="public/assets/sairazul.svg" alt="Sair">
        </a>
      </div>
      <button class="abreajuda" onclick="abrirajuda()" style="font-size: 30px;">?</button>
    </div>
  </header>

  
  <aside id="sidebar" style="display: none; z-index: 10;">
    <button class="sairajuda" onclick="sairajuda()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#ffffff" class="bi bi-x-lg"
        viewBox="0 0 16 16">
        <path
          d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z" />
      </svg>
    </button>
        <h2 class="title" style="text-align: center; margin-top: 2rem; font-size: 50px; font-weight: 600;">Ajuda</h2>
        <nav class="menu">
            <hr class="linha">
            <button class="dropdown-btn" style="font-size: 25px; font-weight: 400;">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#FFFFFF" class="bi bi-chevron-down" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
                  </svg>
                  Para que servem as informações disponíveis no site?</button>
              <div class="dropdown-content">
        
                <p>
                    As informações que você disponíveis na plataforma são referentes aos relatórios das viagens de vários tipos que foram realizadas. A análise das viagens pode ser utilizada para entender  o desempenho e poder agir para torná-las mais eficientes..</p>
              </div>
        <hr class="linha">
          <button class="dropdown-btn" style="font-size: 25px; font-weight: 400;">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#FFFFFF" class="bi bi-chevron-down" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
              </svg>
              Onde eu posso encontrar as informações que preciso?</button>
          <div class="dropdown-content">
            <p>
                Todas as informações que você precisa para analisar o desempenho de suas viagens  se encontram nas seções “Análises” e “Relatórios”.  Navegando por essas seções, você pode filtrar suas viagens para ver  trajetos, gráficos e comparações.</p>
          </div>
          <hr class="linha">
          <button class="dropdown-btn" style="font-size: 25px; font-weight: 400;">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#FFFFFF" class="bi bi-chevron-down" viewBox="0 0 16 16">
                 <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
              </svg>
            Como eu faço para interagir da melhor forma com o site?</button>
          <div class="dropdown-content">
            <p>
              
              Para interagir com o site da melhor forma, leia com calma as instruções de utilização das ferramentas de análise e, caso tenha dúvidas durante a navegação pela plataforma, clique no botão ajuda (?), que se encontra no canto superior direito das páginas..</p>
          </div>
          <hr class="linha">
          <button class="dropdown-btn" style="font-size: 25px; font-weight: 400;">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#FFFFFF" class="bi bi-chevron-down" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
              </svg>
            O que significa cada opção que encontro nos filtros de viagem, tipo de vagão e de choque?</button>
          <div class="dropdown-content">
            <p>
              *ainda não sabemos a resposta, perguntaremos os detalhes nas próximas sprint reviews*
            </p>
          </div>
          <hr class="linha">
        </nav>
    
        <div class="contato">
          <a href="./home?scroll=true" onclick="contato()" style="color:white">Entrar em Contato</a>
      </div>
        
      </aside>
  <main>
      <!-- Título -->
    <div class="tittle">
      <h1>Compare as suas viagens</h1>
    </div>
    <div id="button-container" style="display: flex; align-items: center; justify-content: center; z-index: 9;">
      <button class="btn btn-secondary ms-3" onclick="applyFilters()" id="btnfiltros">Aplicar</button>
      <button class="btn btn-secondary ms-3" onclick="clearFilters()" id="btnfiltros">Limpar</button>
    </div>
    <!--  -->
    <div class="content">
      <!-- Seção esquerda -->
      <div class="left-section">
        <!-- Dropdown para selecionar a viagem 1 -->
        <div id="filtros" style="display: flex;justify-content: space-evenly;">
          <div class="dropdown text-center">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownViagem" name="filtros"
              data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Viagem<i
                class="bi bi-caret-down-fill"></i></button>
            <div class="dropdown-menu" aria-labelledby="dropdownViagem">
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(1, 'dropdownViagem')">Viagem 1</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(2, 'dropdownViagem')">Viagem 2</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(3, 'dropdownViagem')">Viagem 3</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(4, 'dropdownViagem')">Viagem 4</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(5, 'dropdownViagem')">Viagem 5</a>
            </div>
          </div>

          <div class="dropdown text-center ms-3">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownEngate" data-bs-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">Engate<i class="bi bi-caret-down-fill"></i></button>
            <div class="dropdown-menu" aria-labelledby="dropdownEngate">
              <a class="dropdown-item" href="#" onclick="selectDropdownItem('E', 'dropdownEngate')">Engate E</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem('F', 'dropdownEngate')">Engate F</a>
            </div>
          </div>

          <div class="dropdown text-center ms-3">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownTipoChoque"
              data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tipo de Choque<i
                class="bi bi-caret-down-fill"></i></button>
            <div class="dropdown-menu" aria-labelledby="dropdownTipoChoque">
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(0, 'dropdownTipoChoque')">Choque 0
                (pico)</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(1, 'dropdownTipoChoque')">Choque 1</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(2, 'dropdownTipoChoque')">Choque 2</a>
            </div>
          </div>
        </div>

        <!-- Formulário para exibir o mapa 1 -->    
        <div class="objects-border" id="mapa" style="height: 400px; color: black; margin-top: 20px;"></div>

        <!-- Formulário para exibir o gráfico 1 -->
        <form class="grafico1 objects-border">
          <div class="histograma" id="histogram-chart" style="height: 450px;"></div>
        </form>
      </div>

      <!-- Seção direita -->
      <div class="right-section">
        <!-- Dropdown para selecionar a viagem 2 -->
        <div id="filtros" style="display: flex;justify-content: space-evenly;">
          <div class="dropdown text-center">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownViagem2" name="filtros"
              data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Viagem<i
                class="bi bi-caret-down-fill"></i></button>
            <div class="dropdown-menu" aria-labelledby="dropdownViagem">
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(1, 'dropdownViagem2')">Viagem 1</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(2, 'dropdownViagem2')">Viagem 2</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(3, 'dropdownViagem2')">Viagem 3</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(4, 'dropdownViagem2')">Viagem 4</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(5, 'dropdownViagem2')">Viagem 5</a>
            </div>
          </div>

          <div class="dropdown text-center ms-3">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownEngate2" data-bs-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">Engate<i class="bi bi-caret-down-fill"></i></button>
            <div class="dropdown-menu" aria-labelledby="dropdownEngate">
              <a class="dropdown-item" href="#" onclick="selectDropdownItem('E', 'dropdownEngate2')">Engate E</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem('F', 'dropdownEngate2')">Engate F</a>
            </div>
          </div>

          <div class="dropdown text-center ms-3">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownTipoChoque2"
              data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tipo de Choque<i
                class="bi bi-caret-down-fill"></i></button>
            <div class="dropdown-menu" aria-labelledby="dropdownTipoChoque">
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(0, 'dropdownTipoChoque2')">Choque 0
                (pico)</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(1, 'dropdownTipoChoque2')">Choque 1</a>
              <a class="dropdown-item" href="#" onclick="selectDropdownItem(2, 'dropdownTipoChoque2')">Choque 2</a>
            </div>
          </div>
        </div>

        <!-- Formulário para exibir o mapa 2 -->
        <div class="objects-border" id="mapa2" style="height: 400px; color: black;margin-top: 20px; z-index: 9;"></div>

        <!-- Formulário para exibir o gráfico 2 -->
        <form class="grafico2 objects-border">
          <div class="histograma" id="histogram-chart2" style="height: 450px;"></div>
        </form>
      </div>
    </div>
  </main>
  <!-- Importação de scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script> document.addEventListener("DOMContentLoaded", function () { mapa() })</script>
  <script> document.addEventListener("DOMContentLoaded", function () { mapa2() })</script>

  <script>
    const dropdownBtns = document.querySelectorAll('.dropdown-btn');
    dropdownBtns.forEach((btn) => {
      btn.addEventListener('click', () => {
        btn.classList.toggle('active');
      });
    })

    function abrirajuda() {
      document.getElementById("sidebar").style.width = "350px";
      document.getElementById("sidebar").style.display = "block";
    }

    function sairajuda() {
      $("#sidebar").hide();
    }

        let viagemFilter = null;
        let engateFilter = null;
        let tipoChoqueFilter = null;

        function selectDropdownItem(item, dropdownId) {
            const dropdownBtn = document.getElementById(dropdownId);
            dropdownBtn.textContent = item;

            // Update the respective filter based on the dropdown
            if (dropdownId === 'dropdownViagem') {
                viagemFilter = item;
            } else if (dropdownId === 'dropdownEngate') {
                engateFilter = item;
            } else if (dropdownId === 'dropdownTipoChoque') {
                tipoChoqueFilter = item;
            }
        }

  </script>
  <script src="public/utils/telaComparacaoWidgets.js"></script>
</body>

</html>